
const puts = @extern("puts", proc(*u8) -> i32);
const putchar = @extern("putchar", proc(i32) -> i32);

const putchar_rec = proc(n: i32) {
    if n == 0 { return; }
    putchar_rec(n / 10);
    putchar(48 + n % 10);
};

const print_number = proc(n: i32) {
    if n == 0 {
        putchar(48);
    }
    else {
        putchar_rec(n);
    }
};

const main = proc() -> i32 {
    var i = 0;
    while i < 100 {
        if i % 3 == 0 && i % 5 == 0 {
            puts("FizzBuzz".data);
        }
        else if i % 3 == 0 {
            puts("Fizz".data);
        }
        else if i % 5 == 0 {
            puts("Buzz".data);
        }
        else {
            print_number(i);
            puts("".data);
        }
        i += 1;
    }
    0
};
