
// Dependent typing ////////////////////////////////////////////////////////////

// Declaration site

// Identity with dependent types.
// const identity = proc(T: type, x: T) -> T { x };

// Turns into this:
// const identity_ = proc(T: type) -> proc(T) -> T {
//     proc(x: T) -> T { x }
// };

// Call Site

// A call like this:
// const _ = identity(i32, 4);

// Turns into this:
// const _2 = const(identity_(i32))(4);

const main = proc() -> i32 {
    // var nullptr: *i32 = @cast(0, *i32);
    const(@extern("puts", proc(*u8) -> i32))("Hello, World!".data);
    // const P = @extern("puts", proc(*u8) -> i32);
    // P("Hello, World!".data);
    0
}
